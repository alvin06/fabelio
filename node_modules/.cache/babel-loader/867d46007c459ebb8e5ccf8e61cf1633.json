{"ast":null,"code":"import _objectSpread from\"D:\\\\Learning\\\\Test\\\\fabelio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\Learning\\\\Test\\\\fabelio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Learning\\\\Test\\\\fabelio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Learning\\\\Test\\\\fabelio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Learning\\\\Test\\\\fabelio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Learning\\\\Test\\\\fabelio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';import axios from'axios';import ReactMultiSelectCheckboxes from'react-multiselect-checkboxes';// import Select from 'react-select';\nfunction Product(props){return React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"b\",{className:\"col-lg-6 product-name\"},props.name),React.createElement(\"p\",{className:\"col-lg-6 right price\"},props.price)),React.createElement(\"p\",null,props.description),React.createElement(\"p\",{className:\"row\"},props.furnitureStyle),React.createElement(\"p\",{className:\"right delivery\"},props.deliveryTime,\" Days\")));}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={ListProducts:[],ListProductsFiltered:[],ListFurnitureStyle:[{value:1,label:''}],ListDelivery:[{value:7,label:'1 Week'},{value:14,label:'2 Week'},{value:30,label:'1 Month'},{value:31,label:'& More'}],SearchValue:'',SelectValue:[],SelectDelivValue:0};return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){this._getApiList();}},{key:\"_getApiList\",value:function _getApiList(){var _this2=this;var listProduct=_objectSpread({},this.state.ListProducts);// let listFurniture = {...this.state.ListFurnitureStyle};\nvar listFurniture=[];axios.get('http://www.mocky.io/v2/5c9105cb330000112b649af8').then(function(response){// get list product from API\nlistProduct=response.data.products;_this2.setState({ListProducts:listProduct});// get list furniture style from API\nfor(var i=0;i<response.data.furniture_styles.length;i++){listFurniture.push({value:response.data.furniture_styles[i],label:response.data.furniture_styles[i]});_this2.setState({ListFurnitureStyle:listFurniture});}}).catch(function(err){console.log(err);});}},{key:\"_changeBySearch\",value:function _changeBySearch(e){this.setState({SearchValue:e.target.value.substr(0,20)});}},{key:\"_changeBySelectFurniture\",value:function _changeBySelectFurniture(e){var selectedValue=[];for(var i=0;i<e.length;i++){selectedValue.push(e[i].value);}this.setState({SelectValue:selectedValue});}},{key:\"_changeBySelectDelivery\",value:function _changeBySelectDelivery(e){var value1=0;for(var i=0;i<e.length;i++){if(e[i].value>value1){value1=e[i].value;}}this.setState({SelectDelivValue:value1});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"\"},React.createElement(\"div\",{className:\"App-header\"},React.createElement(\"input\",{className:\"search\",type:\"text\",onChange:this._changeBySearch.bind(this),value:this.state.SearchValue,placeholder:\"Search...\"}),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"row\"},React.createElement(ReactMultiSelectCheckboxes,{options:this.state.ListFurnitureStyle,onChange:this._changeBySelectFurniture.bind(this)}),React.createElement(\"br\",null),React.createElement(ReactMultiSelectCheckboxes,{options:this.state.ListDelivery,onChange:this._changeBySelectDelivery.bind(this)}))),this.renderProductBySearch());}},{key:\"renderProductBySearch\",value:function renderProductBySearch(){var _this3=this;var filteredProduct=[];// filter name product\nfilteredProduct=this.state.ListProducts.filter(function(ListProducts){return ListProducts.name.toLowerCase().indexOf(_this3.state.SearchValue.toLowerCase())!==-1;});// filter delivery time\nif(this.state.SelectDelivValue!==0){filteredProduct=filteredProduct.filter(function(ListProduct){return ListProduct.delivery_time<=_this3.state.SelectDelivValue;});};// filter multiple select furniture style\nif(this.state.SelectValue.length>0){filteredProduct=filteredProduct.filter(function(ListProduct){for(var i=0;i<ListProduct.furniture_style.length;i++){for(var j=0;j<_this3.state.SelectValue.length;j++){if(ListProduct.furniture_style[i]===_this3.state.SelectValue[j]){return ListProduct.furniture_style[i];}}}});}return React.createElement(\"div\",null,filteredProduct.map(function(item){return React.createElement(Product,{key:item.name,name:item.name,price:item.price,description:item.description,deliveryTime:item.delivery_time,furnitureStyle:item.furniture_style.map(function(itemFurniture){return React.createElement(\"p\",{className:\"text-left furniture-style\",key:itemFurniture},itemFurniture);})});}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["D:/Learning/Test/fabelio/src/App.js"],"names":["React","Component","axios","ReactMultiSelectCheckboxes","Product","props","name","price","description","furnitureStyle","deliveryTime","App","state","ListProducts","ListProductsFiltered","ListFurnitureStyle","value","label","ListDelivery","SearchValue","SelectValue","SelectDelivValue","_getApiList","listProduct","listFurniture","get","then","response","data","products","setState","i","furniture_styles","length","push","catch","err","console","log","e","target","substr","selectedValue","value1","_changeBySearch","bind","_changeBySelectFurniture","_changeBySelectDelivery","renderProductBySearch","filteredProduct","filter","toLowerCase","indexOf","ListProduct","delivery_time","furniture_style","j","map","item","itemFurniture"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport ReactMultiSelectCheckboxes from 'react-multiselect-checkboxes';\n// import Select from 'react-select';\n\nfunction Product(props){\n  return(\n    <div className=\"card\">\n      <div className=\"card-container\">\n        <div className=\"row\">\n          <b className=\"col-lg-6 product-name\">{props.name}</b>\n          <p className=\"col-lg-6 right price\">{props.price}</p>\n        </div>\n        <p>{props.description}</p>\n        <p className=\"row\">{props.furnitureStyle}</p>\n        <p className=\"right delivery\">{props.deliveryTime} Days</p>\n      </div>\n    </div>\n  )\n}\n\nclass App extends Component{\n  state ={\n    ListProducts:[],\n    ListProductsFiltered:[],\n    ListFurnitureStyle:[{\n      value:1,\n      label:''\n    }],\n    ListDelivery:[{\n        value:7,\n        label: '1 Week'\n      },\n      {\n        value: 14,\n        label: '2 Week'\n      },\n      {\n        value: 30,\n        label: '1 Month'\n      },\n      {\n        value: 31,\n        label: '& More'\n      }\n    ],\n    SearchValue:'',\n    SelectValue:[],\n    SelectDelivValue:0\n  }\n\n  componentWillMount(){\n    this._getApiList();\n  }\n\n  _getApiList(){\n    let listProduct = {...this.state.ListProducts};\n    // let listFurniture = {...this.state.ListFurnitureStyle};\n    let listFurniture =[];\n    axios.get('http://www.mocky.io/v2/5c9105cb330000112b649af8')\n    .then(response => {\n      // get list product from API\n      listProduct = response.data.products;\n      this.setState({ListProducts: listProduct});\n      // get list furniture style from API\n      for(let i = 0; i<response.data.furniture_styles.length; i++){\n        listFurniture.push({\n          value: response.data.furniture_styles[i],\n          label: response.data.furniture_styles[i]\n        })\n        this.setState({ListFurnitureStyle: listFurniture}); \n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n  }\n\n  _changeBySearch(e){\n    this.setState({SearchValue: e.target.value.substr(0,20)});\n  }\n  _changeBySelectFurniture(e){\n    let selectedValue = [] ;\n    for(let i=0; i<e.length; i++){\n      selectedValue.push(e[i].value)\n    }\n    this.setState({SelectValue: selectedValue})\n  }\n  _changeBySelectDelivery(e){\n    var value1 = 0;\n    for(let i=0; i<e.length; i++){\n      if(e[i].value > value1){\n        value1 = e[i].value\n      }\n    }\n    this.setState({SelectDelivValue: value1})\n  }\n\n  render(){\n    return (\n      <div className=\"\">\n        <div className=\"App-header\">\n          <input className=\"search\" type=\"text\" onChange = {this._changeBySearch.bind(this)} value={this.state.SearchValue} placeholder=\"Search...\"></input>\n          <br></br>\n          <div className=\"row\">\n            <ReactMultiSelectCheckboxes \n              options={this.state.ListFurnitureStyle}\n              onChange={this._changeBySelectFurniture.bind(this)}\n            />\n            <br/>\n            <ReactMultiSelectCheckboxes \n              options={this.state.ListDelivery}\n              onChange={this._changeBySelectDelivery.bind(this)}\n            />\n          </div>\n        </div>\n        {this.renderProductBySearch()}\n      </div>\n    );\n  }\n\n  renderProductBySearch(){\n    let filteredProduct = [];\n    // filter name product\n    filteredProduct = this.state.ListProducts.filter(\n      (ListProducts) => {\n        return ListProducts.name.toLowerCase().indexOf(this.state.SearchValue.toLowerCase()) !== -1;\n      }\n    );\n    // filter delivery time\n    if(this.state.SelectDelivValue !== 0){\n      filteredProduct = filteredProduct.filter(\n        (ListProduct) => {\n          return ListProduct.delivery_time <= this.state.SelectDelivValue;\n        }\n      )\n    };\n    // filter multiple select furniture style\n    if(this.state.SelectValue.length>0){\n      filteredProduct = filteredProduct.filter(\n        (ListProduct) => {\n          for (let i=0; i<ListProduct.furniture_style.length; i++){\n            for(let j=0; j<this.state.SelectValue.length; j++){\n              if(ListProduct.furniture_style[i] === this.state.SelectValue[j]){\n                return ListProduct.furniture_style[i];\n              }\n            }\n          }\n        }\n      )\n    }\n\n    return(\n      <div>\n        {filteredProduct.map(item => (\n          <Product key = {item.name} \n            name = {item.name} \n            price = {item.price} \n            description = {item.description} \n            deliveryTime = {item.delivery_time} \n            furnitureStyle = {item.furniture_style.map(itemFurniture =>(\n              <p className=\"text-left furniture-style\" key={itemFurniture}>{itemFurniture}</p>\n            ))}/>\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}